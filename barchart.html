<script src="http://code.jquery.com/jquery-1.12.0.min.js"></script>

<h1>Barcharts yo</h1>
<div class="barchart" data-chartdata="[32, 25, 79, 200, 56, 89, 100, 24]"></div>
<div class="barchart" data-chartdata="[45, 63, 23, 56, 8]"></div>
<div class="barchart" data-chartdata="[1, 2, 3, 4]"></div>

<style>
body {
    width : 800px;
    margin : auto;
}
.barchart {
    display: flex;
    padding : 30px;
    border : 1px solid black;
}
.barchart + .barchart {
    margin-top : 20px;
}
.bar {
    flex: 1;
    align-self: flex-end;
    background-color : #ffb234;
    border : 1px solid #ff8d3b;
    opacity: .9;
    transition : opacity .5s;
    position: relative;
}
.bar + .bar {
    margin-left : 20px;
}
.bar:hover {
    cursor: pointer;
    opacity: 1;
}
.bar:hover::after {
    opacity: 1;
}
.bar::after {
    background : #99cccc;
    transition: opacity .5s;
    opacity: .1;
    text-align: center;
    color : white;
    padding : 5px;
    content : attr(data-label);
    display: block;
}
</style>

<script>
var normalise = function(array) {
    var normalised = [];
    min = Math.min(...array);//'spread' operator. wtf???
    max = Math.max(...array);
    for (var i = 0; i < array.length; i++) {
        value = array[i];
        normalised.push((value - min) / (max - min) + 1); //adding 1 so that I can multiply it by a value
    }
    return normalised;
};
var data = $('.barchart').data('chartdata');
var normalised = normalise(data);

//Set the height of each bar to be the chartdata
$.each(normalised, function(index, value){
        var bar = '<div class="bar" data-label="' + data[index] +'"></div>';
        $('.barchart').append(bar);
        $.each($('.bar:eq(' + index + ')'), function(){
                $(this).height(value * 100);
                })
            });
</script>
